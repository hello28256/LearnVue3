<template>
  <div class="news">
    <ul>
      <li v-for="item in newsList" :key="item.id">
        <button @click="showNewsDetail(item)"> æŸ¥çœ‹æ–°é—»</button>
        <RouterLink
          :to="{
            name:'xiangxi',
            // params:{
            //   id:item.id,
            //   title:item.title,
            //   content:item.content
            // }
            query:{
              id:item.id,
              title:item.title,
              content:item.content
            }
          }"
        >
          {{ item.title }}
        </RouterLink>
      </li>
    </ul>
        <!-- å³ä¾§ï¼šè¯¦æƒ…åŒºåŸŸï¼ˆåµŒå¥—è·¯ç”±å‡ºå£ï¼‰ -->
    <div class="news-detail">
      <RouterView/> <!-- ğŸ‘ˆ å…³é”®ï¼å­è·¯ç”±åœ¨è¿™é‡Œæ¸²æŸ“ -->
    </div>
  </div>
</template>

<script setup lang="ts" name="News">
  import { reactive } from 'vue';
  import { RouterLink, RouterView, useRouter } from 'vue-router';
  const router = useRouter();
  // ts  ç±»å‹æ¥å£
  interface NewsInter {
    id: number;
    title: string;
    content: string;
  }
  function showNewsDetail(item:NewsInter) {
    // è¿™é‡Œä¹Ÿå¯ä»¥å†™replaceï¼Œpushæ˜¯è®°å½•å†å²ï¼Œreplaceæ˜¯ä¸è®°å½•å†å²
    router.push({
      name: 'xiangxi',
      query: {
        id: item.id,
        title: item.title,
        content: item.content
      }
    });
  }



  const newsList = reactive([
    { id: 1, title: 'å¾ˆå¥½çš„æŠ—ç™Œé£Ÿç‰©', content: 'è¥¿å…°èŠ±' },
    { id: 2, title: 'ä¸€å¤œæš´å¯Œ', content: 'å­¦it' },
    { id: 3, title: 'éœ‡æƒŠä¸‡ä¸‡æ²¡æƒ³åˆ°', content: 'æ˜å¤©æ˜¯å‘¨ä¸€' },
    { id: 4, title: 'å¥½æ¶ˆæ¯ï¼ï¼å¥½æ¶ˆæ¯ï¼ï¼', content: 'å¿«è¿‡å¹´äº†' },
  ])

</script>

<style scoped>
  .news {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    height: 100%;
    padding: 20px; /* ğŸ‘ˆ åŠ å†…è¾¹è·ï¼Œç¡®ä¿å†…å®¹å¯è§ */
  }
</style>
